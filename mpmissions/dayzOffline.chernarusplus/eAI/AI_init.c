// Patrol 1 
ref array<vector> patrol_1  = {"2786.139893 7.190120 1975.670044", "2737.649902 5.794930 1971.349976", "2686.209961 6.011600 1977.189941"};

// Patrol 2 
ref array<vector> patrol_2  = {"2742.250000 4.284060 1676.130005", "2670.429932 2.465480 1677.089966", "2636.770020 1.481710 1690.079956", "2655.120117 2.453250 1724.150024"};

// Patrol 3 
ref array<vector> patrol_3  = {"2562.449951 7.186830 2024.000000", "2561.179932 6.012460 2005.010010", "2533.189941 6.233280 2014.170044", "2529.889893 6.337340 2033.099976", "2507.500000 7.076420 2027.979980", "2493.860107 6.132600 1999.750000"};

// Patrol 4 
ref array<vector> patrol_4  = {"13687.299805 21.523500 11786.099609", "13608.099609 27.854401 11800.200195", "13561.700195 35.839901 11837.500000", "13518.799805 42.216999 11864.500000", "13479.299805 53.330399 11887.299805", "13453.700195 64.036003 11902.299805"};

// Patrol 5 
ref array<vector> patrol_5  = {"1406.800049 302.579010 9305.459961", "1418.880005 301.307007 9301.129883", "1445.319946 301.074036 9272.169922", "1460.780029 297.740997 9251.540039", "1478.079956 297.247009 9216.769531", "1492.989990 297.829987 9195.169922", "1515.489990 297.813995 9174.370117", "1497.560059 298.800995 9154.759766"};

//hiking trail olsha patrol_6
ref array<vector> patrol_6 = {"12974.456055 213.003052 12766.447266", "12965.897461 213.375473 12769.839844", "12958.835938 213.717941 12776.127930", "12952.215820 211.941559 12784.190430", "12945.559570 210.001160 12790.246094", "12934.452148 205.366760 12805.972656", "12923.790039 202.840790 12811.317383", "12909.489258 196.775620 12825.213867", "12897.918945 192.641632 12837.494141", "12887.778320 188.067795 12850.013672", "12871.482422 180.396622 12867.498047", "12860.548828 176.347137 12877.842773", "12839.903320 173.831284 12887.018555", "12822.472656 173.602386 12887.422852", "12808.761719 172.440659 12888.941406", "12801.897461 171.682480 12889.305664", "12792.811523 169.500839 12894.440430", "12785.649414 166.297943 12904.154297", "12769.522461 158.407333 12927.708008", "12759.611328 156.953781 12933.773438", "12727.317383 155.938171 12944.831055", "12672.783203 156.735580 12958.715820", "12643.050781 158.984787 12952.315430", "12633.925781 160.507050 12944.187500", "12621.528320 164.891968 12924.518555", "12611.571289 169.085968 12907.759766", "12605.552734 170.046265 12898.661133", "12594.662109 170.156052 12899.198242", "12568.152344 170.892807 12895.304688", "12547.240234 170.241089 12897.296875", "12514.474609 168.862595 12894.415039", "12491.968750 166.769424 12883.247070", "12485.600586 166.136169 12881.664063", "12482.926758 165.874878 12884.938477", "12474.361328 164.448914 12895.750000", "12445.658203 159.220673 12919.705078", "12414.112305 153.761826 12952.979492", "12415.155273 151.794006 12970.041992", "12412.782227 151.326981 12975.646484", "12401.273438 150.309052 12987.802734", "12381.332031 148.362259 13016.115234", "12359.116211 143.186478 13063.075195", "12341.374023 138.508011 13102.710938", "12334.111328 137.251236 13112.144531", "12318.037109 134.891602 13126.687500", "12310.860352 132.268234 13145.955078", "12294.945313 130.682419 13157.708984", "12277.445313 128.127365 13168.487305", "12267.903320 126.560211 13168.888672", "12241.579102 124.390862 13171.554688", "12228.292969 123.488686 13174.183594", "12218.124023 121.631218 13180.437500", "12199.699219 116.123947 13207.941406", "12197.370117 114.844193 13223.385742", "12206.017578 114.046608 13242.591797", "12205.139648 113.651955 13253.460938", "12200.521484 112.706154 13260.710938", "12194.419922 111.472336 13266.229492", "12183.923828 109.471069 13268.053711", "12178.395508 108.508896 13268.585938", "12164.163086 107.518822 13275.320313", "12150.972656 108.401688 13274.656250", "12142.501953 110.127411 13269.197266", "12133.042969 111.327522 13261.793945", "12124.155273 113.083298 13262.330078", "12107.351563 116.950584 13269.235352", "12095.473633 119.909477 13276.902344", "12084.793945 126.172173 13294.557617", "12072.751953 130.854736 13310.131836", "12064.661133 132.908371 13318.187500", "12059.661133 133.984558 13320.868164", "12053.012695 135.619003 13321.110352", "12047.665039 137.063995 13323.090820", "12035.278320 140.254532 13331.400391", "12034.717773 141.343506 13337.906250", "12030.277344 142.532974 13343.664063", "12019.793945 144.615906 13349.144531", "11997.441406 149.554672 13362.170898", "11982.353516 152.478088 13368.536133", "11974.083984 154.382065 13379.261719"};

// Patrol 7 beach long +
ref array<vector> patrol_7 = {"13342.375977 27.020344 11228.225586", "13469.069336 11.282786 11163.261719", "13567.762695 6.128973 11127.067383", "13620.910156 8.011324 11244.537109", "13567.762695 6.128973 11127.067383", "13469.069336 11.282786 11163.261719"};

// Patrol 8 = Red Trail Rog Lake +
ref array<vector> patrol_8 = {"11226.4 234.2 4611.7", "11204.4 235.8 4607.8", "11177.3 234.4 4606.5", "11152.6 232.2 4611", "11124.7 228.6 4616.7", "11098.9 224.9 4617.7", "11079 222 4615.2", "11047.2 214.9 4620.2", "11024.9 211.2 4617", "10987.3 202.5 4606.6", "10952.3 193.6 4588.9", "10938.1 192.2 4589.8", "10912.9 185.6 4580", "10886 174 4545.7", "10861.8 167.9 4537.2", "10832.5 161.1 4532.7", "10800.2 154.4 4537.6", "10778.3 148.4 4537.4", "10751.9 135.7 4529.3", "10735.7 131.5 4532.2", "10692.7 124.4 4562.5", "10735.7 131.5 4532.2", "10751.9 135.7 4529.3", "10778.3 148.4 4537.4", "10800.2 154.4 4537.6", "10832.5 161.1 4532.7", "10861.8 167.9 4537.2", "10886 174 4545.7", "10912.9 185.6 4580", "10938.1 192.2 4589.8", "10952.3 193.6 4588.9", "10987.3 202.5 4606.6", "11024.9 211.2 4617", "11047.2 214.9 4620.2", "11079 222 4615.2", "11098.9 224.9 4617.7", "11124.7 228.6 4616.7", "11152.6 232.2 4611", "11177.3 234.4 4606.5", "11204.4 235.8 4607.8"};

// Patrol 9 = Red Trail Romashka - Gvozdno +
ref array<vector> patrol_9 = { "8041.74 213.9 11124.3", "8050.1 212.9 11132.1", "8069.8 212 11145.8", "8069.8 212 11145.8", "8101.8 209.6 11209", "8114.3 209.5 11225", "8120.7 206.8 11251.1", "8151.3 202.8 11306.3", "8156.9 201.3 11326.8", "8166.24 199.6 11349.9", "8172 192.4 11398.6", "8198.8 196.1 11469.3", "8213 197.3 11486", "8228.91 198.7 11515.4", "8253.3 201.9 11520", "8281.4 205.6 11529.5", "8305 204.8 11547.2", "8325.8 200.2 11575.8", "8345.2 198.1 11601.7", "8367.5 199.8 11617.2", "8382.7 202.8 11618.6", "8403.8 206.9 11613", "8429 209.8 11612.5", "8459.92 214.3 11622.5", "8492.3 218.6 11631.7", "8531.3 222.9 11638.1", "8492.3 218.6 11631.7", "8459.92 214.3 11622.5", "8429 209.8 11612.5", "8403.8 206.9 11613", "8382.7 202.8 11618.6", "8367.5 199.8 11617.2", "8345.2 198.1 11601.7", "8325.8 200.2 11575.8", "8305 204.8 11547.2", "8281.4 205.6 11529.5", "8253.3 201.9 11520", "8228.91 198.7 11515.4", "8213 197.3 11486", "8198.8 196.1 11469.3", "8172 192.4 11398.6", "8166.24 199.6 11349.9", "8156.9 201.3 11326.8", "8151.3 202.8 11306.3", "8120.7 206.8 11251.1", "8114.3 209.5 11225", "8101.8 209.6 11209", "8102.6 212.4 11186.7", "8069.8 212 11145.8", "8050.1 212.9 11132.1",};

// Patrol 10 = Green Trail Zelenogorsk - Bog Forest 
ref array<vector> patrol_10 = {"2822.9 247 4712.7", "2815.5 248.4 4699", "2817.7 250.5 4685.8", "2821.2 253.5 4675.1", "2826.6 256.4 4657", "2825 260.2 4639.2", "2824.4 261.7 4634.1", "2825.1 263.1 4626.6", "2818.8 267.2 4613", "2824.4 267 4608", "2841.3 264.7 4614.2", "2860.5 266.6 4606", "2873.2 266.9 4605.3", "2889.8 267.6 4609.1", "2901 268.9 4604.2", "2911.3 272 4593.2", "2912.4 274.6 4575.8", "2920.9 275.8 4559.3", "2922.5 276.3 4538.8", "2922 276.5 4513", "2922.3 276.562 4492.8", "2933.3 276.6 4478.3", "2952.4 276.9 4460.5", "2956.6 275.7 4449.4", "2954.1 273.8 4432.5", "2945.6 271.5 4415.5", "2943 269.1 4395.2", "2945.6 271.5 4415.5", "2954.1 273.8 4432.5", "2956.6 275.7 4449.4", "2952.4 276.9 4460.5", "2933.3 276.6 4478.3",  "2922.3 276.562 4492.8",  "2922 276.5 4513",  "2922.5 276.3 4538.8",  "2920.9 275.8 4559.3", "2912.4 274.6 4575.8", "2911.3 272 4593.2", "2901 268.9 4604.2", "2889.8 267.6 4609.1", "2873.2 266.9 4605.3", "2860.5 266.6 4606", "2841.3 264.7 4614.2", "2824.4 267 4608", "2818.8 267.2 4613", "2825.1 263.1 4626.6", "2824.4 261.7 4634.1", "2825 260.2 4639.2", "2826.6 256.4 4657", "2821.2 253.5 4675.1", "2817.7 250.5 4685.8", "2815.5 248.4 4699"};

// Patrol 11 = Green Trail Gnomovamok +
ref array<vector> patrol_11 = {"7036.9 359.9 9127.6", "7089.5 361.6 9153.2", "7111.8 362.9 9183.4", "7162.4 367.9 9204.7", "7205.89 370.9 9194.2", "7246.2 374.5 9178.8", "7266.33 375.7 9170.3", "7290.3 377.1 9171.6", "7313.9 379.4 9190.4", "7356.8 382.2 9220.5", "7433.5 389 9235.4", "7529.618164 397.950134 9268.807617", "7542.873047 400.596405 9272.908203", "7641.2 410.1 9279", "7704.5 417.8 9285.3", "7641.2 410.1 9279", "7530.9 398.2 9270.2", "7476.6 392.6 9235.7", "7433.5 389 9235.4", "7356.8 382.2 9220.5", "7313.9 379.4 9190.4", "7290.3 377.1 9171.6", "7266.33 375.7 9170.3", "7246.2 374.5 9178.8", "7205.89 370.9 9194.2", "7162.4 367.9 9204.7", "7111.8 362.9 9183.4", "7089.5 361.6 9153.2"};

// Patrol 12 Blue Trail NE Rogovo +
ref array<vector> patrol_12 = {"4822.1 301.2 7175.3", "4856.6 300.7 7166.88", "4898 298.5 7145.2", "4924 295.7 7126.8", "4986.2 290 7093.6", "5054.1 285.3 7056.8", "5076.7 283.8 7039.9", "5115 283.3 7022.6", "5175.6 283.3 6979.2", "5213.6 285.7 6959.6", "5237.3 283.5 6952.8", "5268.4 280.5 6935.3", "5237.3 283.5 6952.8", "5213.6 285.7 6959.6", "5175.6 283.3 6979.2", "5115 283.3 7022.6", "5076.7 283.8 7039.9", "5054.1 285.3 7056.8", "4986.2 290 7093.6", "4924 295.7 7126.8", "4898 298.5 7145.2", "4856.6 300.7 7166.88"};

// Patrol 13 Blue Trail Maryanka +
ref array<vector> patrol_13 = {"2786.5 162.1 3525.4", "2781.1 158.2 3508.1", "2759 151.6 3471.8", "2738.2 147.6 3430.5", "2722.9 144.7 3397.1", "2727.4 140.1 3331.7", "2727.4 139.5 3299.2", "2786 137.2 3236", "2803.2 135.6 3210.6", "2804.8 134.3 3181.6", "2803.2 135.6 3210.6", "2786 137.2 3236", "2727.4 139.5 3299.2", "2727.4 140.1 3331.7", "2722.9 144.7 3397.1", "2738.2 147.6 3430.5", "2759 151.6 3471.8", "2781.1 158.2 3508.1"};

// Patrol 14 Yellow Trail Belaya Polyana NE +- 2nd bot gets stuck
ref array<vector> patrol_14 = {"14162.6 183.5 15259.7", "14181.7 187.3 15273.6", "14215.6 188.7 15272.8", "14277.7 188.6 15243", "14348.2 190.7 15228.9", "14364.7 188.8 15212.5", "14369.4 186.5 15194.7", "14388.8 185.1 15181.8", "14402.8 175.7 15141.9", "14399.6 150.4 15060.9", "14388 145.1 15018.5", "14399.6 150.4 15060.9", "14402.8 175.7 15141.9", "14388.8 185.1 15181.8", "14369.4 186.5 15194.7", "14364.7 188.8 15212.5", "14348.2 190.7 15228.9", "14277.7 188.6 15243", "14215.6 188.7 15272.8", "14181.7 187.3 15273.6"};

// Patrol 15 Yellow Trail Balota N +- 2nd bot gets stuck
ref array<vector> patrol_15 = {"4842.5 35.3 2911.1", "4830.5 42.5 2971.8", "4820.6 45.4 2998.2", "4808.4 54 3036", "4777.4 67.8 3050.8", "4732.7 87.1 3057", "4711.2 87.7 3065.4", "4691.7 82.8 3108.3", "4665 81.8 3149.7", "4626.1 86.2 3199.6", "4619 88.5 3240.2", "4613.6 89.6 3263.4", "4593 94.8 3302.5", "4564.3 108 3369", "4558.2 114.8 3399.2", "4564.3 108 3369", "4593 94.8 3302.5", "4613.6 89.6 3263.4", "4619 88.5 3240.2", "4626.1 86.2 3199.6", "4665 81.8 3149.7", "4691.7 82.8 3108.3", "4711.2 87.7 3065.4", "4732.7 87.1 3057", "4777.4 67.8 3050.8", "4808.4 54 3036", "4820.6 45.4 2998.2", "4830.5 42.5 2971.8"};

// Patrol 16 Karer Kasnaya Zarya +- 2nd bot gets stuck
ref array<vector> patrol_16 = {"8717.6 122.3 13192.9", "8682.27 108.2 13258.8", "8655.7 106.7 13283", "8691 108.4 13323.4", "8699.8 111.6 13342.5", "8668.11 114.357 13379.2", "8590 114.6 13378.1", "8558 118.2 13357.5", "8545.8 118.9 13333.2", "8539.6 126.5 13275.6", "8600.8 113.6 13286.4", "8654.8 106.9 13284.4", "8600.8 113.6 13286.4", "8539.6 126.5 13275.6", "8545.8 118.9 13333.2", "8558 118.2 13357.5", "8590 114.6 13378.1", "8668.11 114.357 13379.2", "8699.8 111.6 13342.5", "8691 108.4 13323.4", "8655.7 106.7 13283", "8682.27 108.2 13258.8"};

// Patrol 17 
ref array<vector> patrol_17  = {"2799.280029 105.445000 2510.820068", "2755.790039 107.746002 2449.629883", "2654.750000 119.089996 2358.060059", "2630.600098 116.846001 2299.830078", "2643.570068 117.095001 2274.669922", "2648.800049 116.728996 2260.040039", "2649.090088 113.558998 2207.350098", "2666.110107 110.713997 2200.540039", "2684.360107 104.692001 2184.540039", "2662.570068 101.299004 2172.290039"};

// Patrol 18 
ref array<vector> patrol_18  = {"13086.700195 7.046870 7383.140137", "13097.599609 6.160230 7359.959961"};

// Patrol 19 
ref array<vector> patrol_19  = {"13039.200195 5.549860 7276.100098", "13098.200195 6.012030 7256.080078", "13137.799805 6.334470 7265.950195"};

// Patrol 20 
ref array<vector> patrol_20  = {"13446.700195 10.685100 11189.799805", "13477.799805 11.829000 11282.599609", "13510.700195 13.687600 11365.400391", "13545.599609 13.792400 11437.599609", "13559.599609 14.025100 11461.900391", "13591.299805 13.784900 11511.900391", "13623.000000 13.472500 11553.299805", "13616.900391 14.145800 11564.400391", "13609.299805 19.451799 11583.299805", "13610.500000 24.919600 11616.299805"};

// If you add another patrol array, add it to this list
ref array<array<vector>> patrol_list = {patrol_1, patrol_2, patrol_3, patrol_4, patrol_5, patrol_6, patrol_7, patrol_8, patrol_9, patrol_10, patrol_11, patrol_12, patrol_13, patrol_14, patrol_15, patrol_16, patrol_17, patrol_18, patrol_19, patrol_20};

// IMPORTANT: If you add an entry to the above list, pick the loadout for it by adding the loadout filename to this list
ref array<string> patrol_loadouts = {"SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json", "SoldierLoadout.json"};

// you may change these quantities
const int MIN_PER_PATROL = 1; // Min number of AI per patrol
const int MAX_PER_PATROL = 1; // Max number of AI per patrol
const int MAXR = 1500;				// This is the main spawn radius- how close a player needs to be to spawn them in.
const int MINR = 150;				// If a player is this close to the patrol start point, it is too close for them to spawn
const int DESPAWNR = 2000;			// If all players are this far away, they despawn.
const int RESPAWN_SECONDS = 960;	// The amount of seconds before a new patrol will spawn, after they both die

class CustomPatrol : eAIDynamicPatrol {
	override void OnPatrolSpawn(eAIGroup patrol) {
		// Uncomment this line to change the faction of the patrol from Raiders (default)
		// eAIFactionGuards for example is a faction which only kills players who have their weapons out
		// patrol.SetFaction(new eAIFactionGuards());	
		// Uncomment this line to slow down or speed up the patrol (1.0 to 3.0)
		 patrol.SetSpeedLimit(0.9);
	}
	override void OnUnitSpawn(eAIBase unit) {
		// Uncomment this to give the AI unlimited magazines (new one is added on reload)
		unit.SetUnlimitedMags(true);	
		// You can also do anything you would do in the StartingEquipSetup() for players here	
		// These lines will add attachments the same way you would for a player. However, the AI must have the M4A1 class in the Loadout.json file already for it to work.
		//Weapon_Base weapon = Weapon_Base.Cast(unit.GetItemInHands());
		//weapon.GetInventory().CreateAttachment("M4_PlasticHndgrd");
		//weapon.GetInventory().CreateAttachment("M4_OEBttstck");
		//weapon.GetInventory().CreateAttachment("M4_CarryHandleOptic");
	}
};

autoptr array<autoptr eAIDynamicPatrol> patrols = {};

void InitDynamicPatrols() {
	for (int i = 0; i < patrol_list.Count(); i++) {
		string loadout = "SoldierLoadout.json"; // default
		if (i < patrol_loadouts.Count()) loadout = patrol_loadouts[i];
		int randomNumber = Math.RandomInt(MIN_PER_PATROL,MAX_PER_PATROL);		
		autoptr CustomPatrol pat = new CustomPatrol(patrol_list[i][0], patrol_list[i], loadout, randomNumber, MINR, MAXR, DESPAWNR, RESPAWN_SECONDS);
		patrols.Insert(pat);
		pat.UpdateTriggers();
	}
}

void SpawnSentry(vector pos, string loadout = "SoldierLoadout.json") {
	eAIGame game = MissionServer.Cast(GetGame().GetMission()).GetEAIGame();
	eAIBase ai = game.SpawnAI_Sentry(pos, loadout);
}

modded class CustomMission
{
	void StartingEquipSetup(PlayerBase player, bool clothesChosen)
	{
		m_eaiGame.GetGroupByLeader(player);
		super.StartingEquipSetup(player, clothesChosen);
	}
};